{% load static %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<link rel="stylesheet" href="{% static 'css/success.css' %}">

<div class="success-container">
    <div class="receipt-card" id="card">

        <div class="icon-box loading" id="iconBox">
            <svg viewBox="0 0 100 100" width="45" height="45">
                <circle class="main-circle" cx="50" cy="50" r="40" />
                <path class="check-mark" d="M30 50 l15 15 l25 -30" />
            </svg>
        </div>

        <div class="fade-in" style="transition-delay: 0.1s;">
            <div class="receipt-header">
                <h2 id="title">Processing...</h2>
                <p id="subtitle">Securing your transaction with the core engineâ€¦</p>
            </div>
        </div>

        <div class="fade-in" style="transition-delay: 0.2s;">
            <div class="receipt-details">
                <div class="detail-row">
                    <span class="detail-label">Reference</span>
                    <span class="detail-value">#{{ transaction.id|add:"100000" }}</span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Recipient</span>
                    <span class="detail-value recipient-tag">
                        RCPT-{{ transaction.recipient.id|add:"5000" }}
                    </span>
                </div>

                <div class="detail-row">
                    <span class="detail-label">Amount Paid</span>
                    <span class="detail-value amount-highlight">
                        ${{ transaction.amount }}
                    </span>
                </div>
            </div>
        </div>

        <div class="fade-in" style="transition-delay: 0.3s;">
            <a href="{% url 'home' %}" class="btn-receipt">
                Go to Dashboard
            </a>
        </div>

    </div>
</div>

<script src="{% static 'js/success.js' %}"></script>
{% endblock %}